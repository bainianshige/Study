<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>深拷贝</title>
</head>
<body>
	
	<script type="text/javascript">
		//深拷贝
		var obj1 = {
			name: 'zs',
			age: 18,
			sex: '男',
			dog: {
				name: '金毛',
				age: 2
			},
			friends: ['zs', 'ww']
		}

		//深拷贝  把i1的成员拷贝给o2
		function deepCopy(o1, o2) {
			for (var key in o1) {
				// statement
				//获取key属性对应的值
				var item = o1[key];

				//item不是简单类型
				if (item instanceof Object) {
					o2[key] = {};
					deepCopy(item, o2[key]);
				} else if (item instanceof Array) {
					o2[key] = [];
					deepCopy(item, o2[key]);
				} else {
					//简单类型
					o2[key] = o1[key];
				}
			}
		}

		var obj2 = {};
		deepCopy(obj1, obj2);

		obj1.dog.name = 'xx';
		obj1.friends[0] = 'xxx';

		console.dir(obj2);
	</script>
</body>
</html>